@page "/signin"
@using BlazorApp3.Controls
@using BlazorApp3.Shared
<div class="card">
    <div class="card-header">
        <h3>Welcome @(string.IsNullOrEmpty(user.Username) ? "User" : user.Username). Today is @Day!</h3>
    </div>
    <div class=" card-body">
        <EditForm Model="@user">
            @*<InputValidation valueChangeCallback="HandleUsernameValueChange" Value="@username"></InputValidation>*@
            @* <input type="text" class="form-control" placeholder="Username" @onchange="usernameChange" />*@
            <InputValidation @bind-Value="user.Username"></InputValidation>
            <input type="password" class="form-control" placeholder="Password" />

            <button type="submit" class="btn btn-primary">Sign In</button>
        </EditForm>
       
    </div>
</div>


@code {
    private string Day { get; } = DateTime.Now.DayOfWeek.ToString();

    private string username { get; set; }

    private User user { get; set; } = new User();

    private void usernameChange(ChangeEventArgs eventArgs)
    {
        user.Username = eventArgs.Value.ToString();
    }

    private void HandleUsernameValueChange(string _username)
    {
        user.Username = _username;
    }
}
